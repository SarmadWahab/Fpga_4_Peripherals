module relay
   (
    Clk_i,
    Reset_i,
    Switch_i,
    Relay_o
);

   parameter high_p           = 1;
   parameter low_p            = 0;
   parameter single_bit_p     = 1'b1;
   parameter clock_cycles_p   = 5;
   parameter counter_length_p = 3;
 
   input  Clk_i,Reset_i,Switch_i;
   output Relay_o;

   reg [counter_length_p-1 : 0] counter_r;
   reg                          delay_switch_r;
   reg                          relay_r;
   
   
   


   always @ (posedge Clk_i or Reset_i)
     begin
	if(Reset_i == low_p)
	  begin
	     delay_switch_r <= low_p;
	  end
	else
	  begin
	     delay_switch_r <= Switch_i; 
	  end
     end 

   

   always @ (posedge Clk_i or Reset_i)
     begin
	if(Reset_i == low_p)
	  begin
	     counter_r <= low_p;
	  end
	else
	  begin
	     if(delay_switch_r == Switch_i && counter_r < clock_cycles_p)
	       begin
		  counter_r <= counter_r + single_bit_p;
	       end
	     else if (delay_switch_r == Switch_i && counter_r == clock_cycles_p)
	       begin
		  counter_r <= counter_r;
	       end
	     else
	       begin
		  counter_r <= low_p;
	       end
	  end
     end

   
   always @ (posedge Clk_i or Reset_i)
     begin
	if(Reset_i == low_p)
	  begin
	     relay_r <= low_p;	     
	  end
	else
	  begin
	     if(counter_r == clock_cycles_p)
	       begin
		  relay_r <= high_p;
		  
	       end
	     else
	       begin
		 relay_r  <= low_p;	  
	       end
	  end
     end

   assign Relay_o = relay_r;
   
 
   

endmodule //
